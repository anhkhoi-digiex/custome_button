

import React from 'react'
import { ButtonCustomeProps } from './button.model'
import cn from 'classnames';

const ButtonCustome: React.FC<ButtonCustomeProps> = (props) => {

    const { size, title, type, theme, disable, icon, iconPosition, loading, onClick } = props

    const checkSize = () => {
        switch (size) {
            case "l":
                return "px-7 py-2"
            case "s":
                return "px-7 py-1.5"
            case "xl":
                return "px-7 py-3"
            default:
                return "px-7 py-2"
        }
    }



    const checkCondition = () => {
        let style = cn(
            "flex",
            "gap-1",
            "rounded-md",
            checkSize(),
            {
                // hover
                "hover:bg-primary-mint-300 hover:text-black": !(loading) && (type === "primary" || type === "secondary") && !(loading && disable) && !(disable),
                "hover:text-primary-mint-900": type === "text" && !(loading) && !(loading && disable) && !(disable),

                // default
                "text-greyscale-white font-bold": type === "text",
                "text-black font-bold bg-greyscale-white": type === "primary",
                "text-black font-bold bg-greyscale-grey-medium-50 text-greyscale-grey-placeholder-70": type === "primary" && theme === "white",
                "text-black font-bold bg-greyscale-grey-dark-20 text-greyscale-grey-text-95": type === "primary" && theme === "dark",
                "text-white font-bold bg-greyscale-grey-dark-15": type === "secondary"
            }
        )

        if (disable && loading) {
            if (type == 'text') {
                return cn(
                    style,
                    "text-greyscale-grey-dark-30"
                )
            }

            return cn(
                style,
                "bg-greyscale-grey-medium-50",
                "text-greyscale-grey-placeholder-70",
                "cursor-not-allowed"
            )
        }


        if (disable) {
            if (type == 'text') {
                return cn(
                    "!text-greyscale-grey-dark-30",
                    style
                )
            }

            return cn(
                "!bg-greyscale-grey-medium-50",
                "!text-greyscale-grey-placeholder-70",
                "!cursor-not-allowed",
                style
            )
        }

        if (loading) {
            if (type == "primary") {
                switch (theme) {
                    case "dark":
                        return cn(
                            style,
                            "bg-greyscale-grey-dark-20",
                            "!text-greyscale-grey-text-95",
                        )
                    case "white":
                        return cn(
                            style,
                            "!text-greyscale-grey-medium-50",
                            "bg-greyscale-grey-border-90"
                        )

                    default:
                        return cn(
                            style,
                            "!text-greyscale-grey-medium-50",
                            "bg-greyscale-grey-border-90"
                        )
                }
            }

            if (type == 'secondary') {
                return cn(
                    style,
                    "bg-greyscale-grey-dark-30",
                    "bg-greyscale-grey-text-95"
                )
            }

            if (type == "text") {
                return cn(
                    style,
                    "!text-greyscale-grey-medium-50"
                )
            }
        } else {
            return cn(
                style
            )
        }


    }

    return (
        <div className='flex justify-center align-middle' onClick={onClick}>
            <button disabled={disable || loading}>
                <div className={checkCondition()}>
                    <div>
                        {loading && iconPosition == "left" ?
                            theme == "dark" ?
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    className="ml-1 animate-spin  mr-3 h-5 w-5 text-white" fill='none' viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.75C11.5858 21.75 11.25 21.4142 11.25 21V17.6569C11.25 17.2427 11.5858 16.9069 12 16.9069C12.4142 16.9069 12.75 17.2427 12.75 17.6569V21C12.75 21.4142 12.4142 21.75 12 21.75ZM12 7.09345C11.5858 7.09345 11.25 6.75766 11.25 6.34345V3.00003C11.25 2.58582 11.5858 2.25003 12 2.25003C12.4142 2.25003 12.75 2.58582 12.75 3.00003V6.34345C12.75 6.75766 12.4142 7.09345 12 7.09345ZM5.10595 17.8336C4.81306 18.1265 4.81306 18.6014 5.10595 18.8943C5.39884 19.1872 5.87372 19.1872 6.16661 18.8943L8.53057 16.5303C8.82346 16.2374 8.82346 15.7626 8.53057 15.4697C8.23768 15.1768 7.7628 15.1768 7.46991 15.4697L5.10595 17.8336ZM15.4697 7.46987C15.1768 7.76276 15.1768 8.23764 15.4697 8.53053C15.7626 8.82342 16.2375 8.82342 16.5304 8.53053L18.8945 6.16638C19.1874 5.87349 19.1874 5.39861 18.8945 5.10572C18.6016 4.81283 18.1268 4.81283 17.8339 5.10572L15.4697 7.46987ZM3 11.25C2.58579 11.25 2.25 11.5858 2.25 12C2.25 12.4142 2.58579 12.75 3 12.75H6.34315C6.75736 12.75 7.09315 12.4142 7.09315 12C7.09315 11.5858 6.75736 11.25 6.34315 11.25H3ZM17.6566 11.25C17.2424 11.25 16.9066 11.5858 16.9066 12C16.9066 12.4142 17.2424 12.75 17.6566 12.75H21C21.4142 12.75 21.75 12.4142 21.75 12C21.75 11.5858 21.4142 11.25 21 11.25H17.6566ZM17.8337 18.8943C18.1266 19.1872 18.6014 19.1872 18.8943 18.8943C19.1872 18.6014 19.1872 18.1265 18.8943 17.8336L16.5304 15.4697C16.2375 15.1768 15.7626 15.1768 15.4697 15.4697C15.1768 15.7626 15.1768 16.2374 15.4697 16.5303L17.8337 18.8943ZM7.46991 8.53053C7.76281 8.82342 8.23768 8.82342 8.53057 8.53053C8.82347 8.23764 8.82347 7.76276 8.53057 7.46987L6.16642 5.10572C5.87353 4.81283 5.39865 4.81283 5.10576 5.10572C4.81287 5.39861 4.81287 5.87349 5.10576 6.16638L7.46991 8.53053Z" fill="white" />
                                </svg>
                                :
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    className="testing ml-1 animate-spin  mr-3 h-5 w-5 text-white" fill='none' viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.75C11.5858 21.75 11.25 21.4142 11.25 21V17.6569C11.25 17.2426 11.5858 16.9069 12 16.9069C12.4142 16.9069 12.75 17.2426 12.75 17.6569V21C12.75 21.4142 12.4142 21.75 12 21.75ZM12 7.09342C11.5858 7.09342 11.25 6.75763 11.25 6.34342V3C11.25 2.58579 11.5858 2.25 12 2.25C12.4142 2.25 12.75 2.58579 12.75 3V6.34342C12.75 6.75763 12.4142 7.09342 12 7.09342ZM5.10598 17.8336C4.81309 18.1265 4.81309 18.6014 5.10598 18.8943C5.39887 19.1872 5.87375 19.1872 6.16664 18.8943L8.5306 16.5303C8.8235 16.2374 8.8235 15.7625 8.5306 15.4696C8.23771 15.1768 7.76284 15.1768 7.46994 15.4696L5.10598 17.8336ZM15.4697 7.46984C15.1769 7.76273 15.1769 8.23761 15.4697 8.5305C15.7626 8.82339 16.2375 8.82339 16.5304 8.5305L18.8946 6.16635C19.1875 5.87346 19.1875 5.39858 18.8946 5.10569C18.6017 4.81279 18.1268 4.8128 17.8339 5.10569L15.4697 7.46984ZM3.00003 11.25C2.58582 11.25 2.25003 11.5858 2.25003 12C2.25003 12.4142 2.58582 12.75 3.00003 12.75H6.34318C6.75739 12.75 7.09318 12.4142 7.09318 12C7.09318 11.5858 6.75739 11.25 6.34318 11.25H3.00003ZM17.6566 11.25C17.2424 11.25 16.9066 11.5858 16.9066 12C16.9066 12.4142 17.2424 12.75 17.6566 12.75H21C21.4142 12.75 21.75 12.4142 21.75 12C21.75 11.5858 21.4142 11.25 21 11.25H17.6566ZM17.8337 18.8943C18.1266 19.1872 18.6015 19.1872 18.8944 18.8943C19.1873 18.6014 19.1873 18.1265 18.8944 17.8336L16.5304 15.4696C16.2375 15.1768 15.7626 15.1768 15.4698 15.4696C15.1769 15.7625 15.1769 16.2374 15.4698 16.5303L17.8337 18.8943ZM7.46994 8.5305C7.76284 8.82339 8.23771 8.82339 8.5306 8.5305C8.8235 8.23761 8.8235 7.76273 8.5306 7.46984L6.16645 5.10569C5.87356 4.8128 5.39869 4.8128 5.10579 5.10569C4.8129 5.39858 4.8129 5.87346 5.10579 6.16635L7.46994 8.5305Z" fill="#808080" />
                                </svg>
                            :
                            icon != undefined && iconPosition != "right"
                                ?
                                icon
                                : <></>
                        }
                    </div>

                    <div>
                        {title}
                    </div>

                    <div>
                        {loading && iconPosition != "left" ?
                            theme == "dark" ?
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    className="ml-1 animate-spin  mr-3 h-5 w-5 text-white" fill='none' viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.75C11.5858 21.75 11.25 21.4142 11.25 21V17.6569C11.25 17.2427 11.5858 16.9069 12 16.9069C12.4142 16.9069 12.75 17.2427 12.75 17.6569V21C12.75 21.4142 12.4142 21.75 12 21.75ZM12 7.09345C11.5858 7.09345 11.25 6.75766 11.25 6.34345V3.00003C11.25 2.58582 11.5858 2.25003 12 2.25003C12.4142 2.25003 12.75 2.58582 12.75 3.00003V6.34345C12.75 6.75766 12.4142 7.09345 12 7.09345ZM5.10595 17.8336C4.81306 18.1265 4.81306 18.6014 5.10595 18.8943C5.39884 19.1872 5.87372 19.1872 6.16661 18.8943L8.53057 16.5303C8.82346 16.2374 8.82346 15.7626 8.53057 15.4697C8.23768 15.1768 7.7628 15.1768 7.46991 15.4697L5.10595 17.8336ZM15.4697 7.46987C15.1768 7.76276 15.1768 8.23764 15.4697 8.53053C15.7626 8.82342 16.2375 8.82342 16.5304 8.53053L18.8945 6.16638C19.1874 5.87349 19.1874 5.39861 18.8945 5.10572C18.6016 4.81283 18.1268 4.81283 17.8339 5.10572L15.4697 7.46987ZM3 11.25C2.58579 11.25 2.25 11.5858 2.25 12C2.25 12.4142 2.58579 12.75 3 12.75H6.34315C6.75736 12.75 7.09315 12.4142 7.09315 12C7.09315 11.5858 6.75736 11.25 6.34315 11.25H3ZM17.6566 11.25C17.2424 11.25 16.9066 11.5858 16.9066 12C16.9066 12.4142 17.2424 12.75 17.6566 12.75H21C21.4142 12.75 21.75 12.4142 21.75 12C21.75 11.5858 21.4142 11.25 21 11.25H17.6566ZM17.8337 18.8943C18.1266 19.1872 18.6014 19.1872 18.8943 18.8943C19.1872 18.6014 19.1872 18.1265 18.8943 17.8336L16.5304 15.4697C16.2375 15.1768 15.7626 15.1768 15.4697 15.4697C15.1768 15.7626 15.1768 16.2374 15.4697 16.5303L17.8337 18.8943ZM7.46991 8.53053C7.76281 8.82342 8.23768 8.82342 8.53057 8.53053C8.82347 8.23764 8.82347 7.76276 8.53057 7.46987L6.16642 5.10572C5.87353 4.81283 5.39865 4.81283 5.10576 5.10572C4.81287 5.39861 4.81287 5.87349 5.10576 6.16638L7.46991 8.53053Z" fill="white" />
                                </svg>
                                :
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    className="testing ml-1 animate-spin  mr-3 h-5 w-5 text-white" fill='none' viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.75C11.5858 21.75 11.25 21.4142 11.25 21V17.6569C11.25 17.2426 11.5858 16.9069 12 16.9069C12.4142 16.9069 12.75 17.2426 12.75 17.6569V21C12.75 21.4142 12.4142 21.75 12 21.75ZM12 7.09342C11.5858 7.09342 11.25 6.75763 11.25 6.34342V3C11.25 2.58579 11.5858 2.25 12 2.25C12.4142 2.25 12.75 2.58579 12.75 3V6.34342C12.75 6.75763 12.4142 7.09342 12 7.09342ZM5.10598 17.8336C4.81309 18.1265 4.81309 18.6014 5.10598 18.8943C5.39887 19.1872 5.87375 19.1872 6.16664 18.8943L8.5306 16.5303C8.8235 16.2374 8.8235 15.7625 8.5306 15.4696C8.23771 15.1768 7.76284 15.1768 7.46994 15.4696L5.10598 17.8336ZM15.4697 7.46984C15.1769 7.76273 15.1769 8.23761 15.4697 8.5305C15.7626 8.82339 16.2375 8.82339 16.5304 8.5305L18.8946 6.16635C19.1875 5.87346 19.1875 5.39858 18.8946 5.10569C18.6017 4.81279 18.1268 4.8128 17.8339 5.10569L15.4697 7.46984ZM3.00003 11.25C2.58582 11.25 2.25003 11.5858 2.25003 12C2.25003 12.4142 2.58582 12.75 3.00003 12.75H6.34318C6.75739 12.75 7.09318 12.4142 7.09318 12C7.09318 11.5858 6.75739 11.25 6.34318 11.25H3.00003ZM17.6566 11.25C17.2424 11.25 16.9066 11.5858 16.9066 12C16.9066 12.4142 17.2424 12.75 17.6566 12.75H21C21.4142 12.75 21.75 12.4142 21.75 12C21.75 11.5858 21.4142 11.25 21 11.25H17.6566ZM17.8337 18.8943C18.1266 19.1872 18.6015 19.1872 18.8944 18.8943C19.1873 18.6014 19.1873 18.1265 18.8944 17.8336L16.5304 15.4696C16.2375 15.1768 15.7626 15.1768 15.4698 15.4696C15.1769 15.7625 15.1769 16.2374 15.4698 16.5303L17.8337 18.8943ZM7.46994 8.5305C7.76284 8.82339 8.23771 8.82339 8.5306 8.5305C8.8235 8.23761 8.8235 7.76273 8.5306 7.46984L6.16645 5.10569C5.87356 4.8128 5.39869 4.8128 5.10579 5.10569C4.8129 5.39858 4.8129 5.87346 5.10579 6.16635L7.46994 8.5305Z" fill="#808080" />
                                </svg>
                            :
                            icon != undefined && iconPosition == "right"
                                ?
                                icon
                                : <></>

                        }
                    </div>
                </div>

            </button>
        </div>
    )
}
export default ButtonCustome